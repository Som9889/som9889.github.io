<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Som Gupta — Java & Full Stack Developer</title>
  <meta name="description" content="Som Gupta — Java | Spring Boot | Full Stack. REST APIs & Web Apps. Portfolio." />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    /* ---------- ROOT / THEMES ---------- */
    :root{
      --bg:#f5f7fc;
      --card:#ffffff;
      --text:#0f1724;
      --muted:#556;
      --accent:#0077ff;
      --glass: rgba(255,255,255,0.12);
      --soft-border: rgba(0,0,0,0.06);
      --max-width:1100px;
    }
    [data-theme="dark"]{
      --bg:#071021;
      --card:#0b1220;
      --text:#e6eef8;
      --muted:#93a6c4;
      --accent:#60a5fa;
      --glass: rgba(255,255,255,0.04);
      --soft-border: rgba(255,255,255,0.06);
    }

    html,body{
      margin:0;
      font-family:'Poppins',sans-serif;
      background:var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      scroll-behavior:smooth;
      box-sizing:border-box;
    }
    *,*::before,*::after{box-sizing:inherit;}

    /* ---------- NAV ---------- */
    nav{
      position:sticky;
      top:0;
      z-index:120;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:12px 18px;
      backdrop-filter:blur(8px);
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      border-bottom: 1px solid rgba(0,0,0,0.03);
    }
    [data-theme="dark"] nav{
      background: linear-gradient(180deg, rgba(6,10,18,0.6), rgba(6,10,18,0.25));
      border-bottom:1px solid rgba(255,255,255,0.03);
    }
    .brand{font-weight:800;font-size:18px}
    .nav-links{display:flex;gap:16px;align-items:center}
    .nav-links a{font-weight:600;color:var(--text);text-decoration:none}
    .nav-actions{display:flex;align-items:center;gap:10px}

    .resume-btn{
      padding:8px 14px;border-radius:10px;font-weight:700;background:transparent;
      border:2px solid rgba(0,119,255,0.18);color:var(--accent);text-decoration:none;
      display:inline-flex;align-items:center;gap:8px;
    }

    .hamburger{
      width:44px;height:40px;border-radius:10px;background:var(--glass);
      border:1px solid var(--soft-border);display:flex;align-items:center;justify-content:center;
      cursor:pointer;font-size:20px;color:var(--text);
    }

    /* ---------- iOS style toggle (right of Resume) ---------- */
    .switch {
      --w:44px; --h:26px; --pad:3px;
      width:calc(var(--w)); height:calc(var(--h));
      background:rgba(0,0,0,0.06);
      border-radius:999px;
      position:relative;
      display:inline-block;
      padding:var(--pad);
      box-sizing:content-box;
      transition:background .22s;
      border:1px solid rgba(0,0,0,0.06);
    }
    [data-theme="dark"] .switch{
      background:rgba(255,255,255,0.06);
      border:1px solid rgba(255,255,255,0.06);
    }
    .switch input{display:none}
    .switch .knob{
      width:calc(var(--h) - var(--pad)*2);
      height:calc(var(--h) - var(--pad)*2);
      background:#fff;border-radius:999px;position:relative;left:0;top:0;
      transition:transform .22s, box-shadow .22s, background .22s;
      box-shadow:0 6px 18px rgba(2,6,23,0.12);
    }
    [data-theme="dark"] .switch .knob{ background:#0b1220; box-shadow: 0 6px 22px rgba(0,0,0,0.6); }
    .switch[data-on="true"]{ background: linear-gradient(90deg,var(--accent), #60c0ff);}
    .switch[data-on="true"] .knob{ transform: translateX(calc(var(--w) - var(--h))); box-shadow: 0 8px 26px rgba(96,165,250,0.28); }

    /* small label optionally */
    .switch-label{font-size:12px;color:var(--muted);margin-left:6px}

    /* ---------- HERO ---------- */
    .hero{min-height:62vh;display:flex;align-items:center;justify-content:center;padding:44px 18px;text-align:center}
    .hero-card{max-width:920px;background:var(--card);padding:34px;border-radius:14px;box-shadow: 0 14px 40px rgba(2,6,23,0.12);border:1px solid rgba(255,255,255,0.02)}
    .hero h1{margin:6px 0;font-size:28px}
    .typing{font-weight:700;color:var(--accent);min-height:28px}
    .lead{color:var(--muted);max-width:720px;margin:10px auto;line-height:1.6}

    /* ---------- PROFILE PHOTO (round + glow) ---------- */
    .photo-wrap{display:flex;justify-content:center;margin-bottom:18px}
    .profile-photo{
      width:150px;height:150px;border-radius:50%;object-fit:cover;border:4px solid rgba(255,255,255,0.12);
      box-shadow: 0 0 0 6px rgba(255,255,255,0.02), 0 8px 30px rgba(0,119,255,0.20), 0 0 50px rgba(0,119,255,0.12);
      transition:transform .28s, box-shadow .28s;
    }
    .profile-photo:hover{ transform:scale(1.03); box-shadow: 0 0 0 6px rgba(255,255,255,0.06), 0 12px 45px rgba(0,119,255,0.35); }

    /* ---------- PANELS, GRID ---------- */
    .panel{max-width:var(--max-width);margin:34px auto;padding:36px;border-radius:12px;background:transparent}
    .skills-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:14px;max-width:1000px;margin:16px auto}
    .skill{background:var(--card);padding:14px;text-align:center;border-radius:10px;font-weight:700;box-shadow:0 8px 24px rgba(2,6,23,0.06)}

    .project-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:18px;max-width:1000px;margin:16px auto}
    .card{background:var(--card);padding:18px;border-radius:12px;box-shadow:0 10px 28px rgba(2,6,23,0.06)}

    /* ---------- CONTACT ---------- */
    .contact-grid{max-width:900px;margin:14px auto;display:grid;grid-template-columns:1fr 1fr;gap:18px}
    .contact-card{background:var(--card);padding:20px;border-radius:12px;box-shadow:0 10px 28px rgba(2,6,23,0.06)}
    .input, textarea{width:100%;padding:12px;margin:8px 0;border-radius:8px;border:1px solid var(--soft-border);background:transparent;color:var(--text);font-size:14px}
    textarea{min-height:120px;resize:vertical}
    .send-btn{width:100%;padding:12px;border-radius:10px;border:none;background:var(--accent);color:#fff;font-weight:700;cursor:pointer}
    .send-btn:hover{opacity:0.95;transform:translateY(-2px)}

    /* ---------- SIDEBAR / OVERLAY ---------- */
    .overlay{position:fixed;inset:0;background:rgba(0,0,0,0.45);opacity:0;visibility:hidden;transition:opacity .28s, visibility .28s;z-index:116}
    .overlay.show{opacity:1;visibility:visible}
    .sidebar{position:fixed;right:-360px;top:0;height:100vh;width:320px;padding:22px;background:var(--card);box-shadow:-14px 0 40px rgba(2,6,23,0.12);transition:right .32s ease;border-left:1px solid var(--soft-border);z-index:118}
    .sidebar.show{right:0}
    .sidebar a{display:block;margin:8px 0;color:var(--text);text-decoration:none;font-weight:600}

    /* ---------- FOOTER ---------- */
    footer{text-align:center;padding:20px;color:var(--muted)}

    /* ---------- UTIL ---------- */
    .muted{color:var(--muted)}
    .hidden-sm{display:inline-block}
    @media (max-width:980px){ .nav-links{display:none;} .hidden-sm{display:none} }

    /* responsive contact & photo */
    @media (max-width:820px){
      .contact-grid{grid-template-columns:1fr}
      .profile-photo{width:130px;height:130px}
      .resume-btn{display:none} /* keep resume in sidebar for small screens */
    }

    /* ensure focus outlines visible */
    :focus{outline:3px solid rgba(96,165,250,0.18);outline-offset:2px}
  </style>
</head>
<body>

  <!-- NAV -->
  <nav role="navigation" aria-label="Main navigation">
    <div style="display:flex;gap:12px;align-items:center;">
      <div class="brand">Som Gupta</div>
    </div>

    <div class="nav-links" aria-hidden="false">
      <a href="#about">About</a>
      <a href="#skills">Skills</a>
      <a href="#projects">Projects</a>
      <a href="#experience">Experience</a>
      <a href="#contact">Contact</a>
    </div>

    <div class="nav-actions" role="toolbar" aria-label="Actions">
      <!-- Resume visible on desktop; hidden on small screens by CSS -->
      <a class="resume-btn hidden-sm" href="Som-Resume.pdf" download aria-label="Download resume">Resume</a>

      <!-- iOS-style switch (chosen) -->
      <label class="switch" id="themeSwitch" title="Toggle theme" role="switch" aria-checked="true" data-on="true">
        <input type="checkbox" id="themeCheckbox" checked aria-label="Toggle dark mode">
        <span class="knob" aria-hidden="true"></span>
      </label>

      <!-- small label (optional) -->
      <span class="switch-label hidden-sm">Dark</span>

      <!-- Hamburger opens sidebar -->
      <button id="hamburger" class="hamburger" aria-label="Open menu">☰</button>
    </div>
  </nav>

  <!-- SIDEBAR & OVERLAY -->
  <div id="overlay" class="overlay" aria-hidden="true"></div>

  <aside id="sidebar" class="sidebar" aria-hidden="true" role="dialog" aria-label="Menu">
    <button id="closeSidebar" class="close-btn" aria-label="Close menu">✕</button>
    <nav aria-label="Sidebar navigation">
      <a href="#about" onclick="closeMenu()">About</a>
      <a href="#skills" onclick="closeMenu()">Skills</a>
      <a href="#projects" onclick="closeMenu()">Projects</a>
      <a href="#experience" onclick="closeMenu()">Experience</a>
      <a href="#contact" onclick="closeMenu()">Contact</a>
      <a href="Som-Resume.pdf" download style="margin-top:12px;color:var(--accent);font-weight:700;">Download Resume</a>
    </nav>
  </aside>

  <!-- HERO -->
  <main>
    <section id="hero" class="hero" aria-labelledby="intro-heading">
      <div class="hero-card" role="region" aria-label="Introduction">
        <div class="photo-wrap">
          <!-- tries profile.jpg first, otherwise GitHub avatar -->
          <img class="profile-photo" src="profile.jpg" alt="Som Gupta" onerror="this.onerror=null;this.src='https://github.com/somguptaa.png'">
        </div>

        <h1 id="intro-heading">Hello, I'm <span style="color:var(--accent)">Som Gupta</span></h1>
        <div id="typing" class="typing" aria-live="polite"></div>
        <p class="lead">Java Full Stack Developer • Spring Boot • SQL • MongoDB • REST APIs</p>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" class="panel" aria-labelledby="about-heading">
      <h2 id="about-heading" style="text-align:center;margin-bottom:12px">About Me</h2>
      <p style="text-align:center;color:var(--muted);max-width:860px;margin:auto;">
        I build efficient and scalable backend systems using Java, Spring Boot, SQL, MongoDB, and REST APIs.
        I follow clean architecture and SOLID principles — I write maintainable, production-grade code and ship features.
      </p>
    </section>

    <!-- SKILLS -->
    <section id="skills" class="panel" aria-labelledby="skills-heading">
      <h2 id="skills-heading" style="text-align:center;margin-bottom:12px">Skills</h2>
      <div class="skills-grid" role="list">
        <div class="skill" role="listitem">Java</div>
        <div class="skill" role="listitem">Spring Boot</div>
        <div class="skill" role="listitem">Hibernate / JPA</div>
        <div class="skill" role="listitem">MySQL</div>
        <div class="skill" role="listitem">Oracle</div>
        <div class="skill" role="listitem">MongoDB</div>
        <div class="skill" role="listitem">JavaScript</div>
        <div class="skill" role="listitem">HTML</div>
        <div class="skill" role="listitem">CSS</div>
        <div class="skill" role="listitem">Docker</div>
        <div class="skill" role="listitem">Git & GitHub</div>
        <div class="skill" role="listitem">Swagger / Postman</div>
        <div class="skill" role="listitem">JUnit / Mockito</div>
      </div>
    </section>

    <!-- PROJECTS -->
    <section id="projects" class="panel" aria-labelledby="projects-heading">
      <h2 id="projects-heading" style="text-align:center;margin-bottom:12px">Projects</h2>
      <div class="project-grid">
        <div class="card">
          <h3>Online BookStore</h3>
          <p>REST API application with JWT authentication, user roles, catalog, cart, orders & reviews. Built with Spring Boot, MySQL, MongoDB, Swagger.</p>
          <a href="https://github.com/somguptaa/Online-BookStore" target="_blank" rel="noopener" class="resume-btn" style="margin-top:12px;display:inline-block">Repository</a>
        </div>

        <div class="card">
          <h3>School Management System</h3>
          <p>Backend system supporting authentication, roles (Admin/Teacher/Student), CRUD modules & Swagger documentation. Spring Boot + MySQL.</p>
          <a href="#" class="resume-btn" style="margin-top:12px;display:inline-block">Repository</a>
        </div>
      </div>

      <!-- GitHub stats (stars & top languages) -->
      <div style="text-align:center;margin-top:28px;">
        <img src="https://img.shields.io/github/followers/somguptaa?label=Followers&style=social" alt="Followers">
        <img src="https://img.shields.io/github/stars/somguptaa/Online-BookStore?label=Stars&style=social" alt="Stars">
        <img src="https://img.shields.io/github/last-commit/Som9889/som9889.github.io?label=Updated&color=blue" alt="Last commit">

        <div id="totalStars" style="margin-top:12px;font-weight:700;color:var(--accent)">⭐ Total Stars: Loading...</div>

        <div style="margin-top:16px;background:var(--card);padding:12px;border-radius:10px;display:inline-block">
          <strong>Top Languages:</strong>
          <div id="langs" style="margin-top:8px;color:var(--muted)">Loading…</div>
          <div id="langsError" style="display:none;color:#c33;margin-top:6px">Failed to load</div>
        </div>
      </div>
    </section>

    <!-- EXPERIENCE -->
    <section id="experience" class="panel" aria-labelledby="experience-heading">
      <h2 id="experience-heading" style="text-align:center;margin-bottom:12px">Experience</h2>
      <div class="card" style="margin-bottom:12px">
        <h3>Online BookStore — Lead Developer</h3>
        <p class="muted">2025 • Spring Boot, MySQL, MongoDB, JWT</p>
      </div>
      <div class="card" style="margin-bottom:12px">
        <h3>School Management System — Backend Developer</h3>
        <p class="muted">2025 • Spring Boot, MySQL, JWT</p>
      </div>
      <div class="card">
        <h3>Full Stack Java Developer — Naresh i Technologies</h3>
        <p class="muted">2024</p>
      </div>
    </section>

    <!-- EDUCATION -->
    <section id="education" class="panel" aria-labelledby="education-heading">
      <h2 id="education-heading" style="text-align:center;margin-bottom:12px">Education</h2>
      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;max-width:900px;margin:0 auto">
        <div class="card"><strong>B.C.A — MGCGV</strong><p class="muted">2025 • CGPA: 8.4</p></div>
        <div class="card"><strong>Class XII — U.P. Board</strong><p class="muted">2021 • 57.8%</p></div>
        <div class="card"><strong>Class X — U.P. Board</strong><p class="muted">2018 • 61.5%</p></div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="panel" aria-labelledby="contact-heading">
      <h2 id="contact-heading" style="text-align:center;margin-bottom:12px">Contact</h2>
      <div class="contact-grid" role="region" aria-label="Contact">
        <div class="contact-card">
          <h3>Get in Touch</h3>
          <p class="muted">Feel free to reach out for collaborations, discussions, or project inquiries.</p>

          <p><strong>Email:</strong> <a href="mailto:somgupta0011@gmail.com">somgupta0011@gmail.com</a></p>
          <p><strong>LinkedIn:</strong> <a href="https://www.linkedin.com/in/som-gupta-2k3/" target="_blank" rel="noopener">Som Gupta</a></p>
          <p><strong>GitHub:</strong> <a href="https://github.com/somguptaa" target="_blank" rel="noopener">somguptaa</a></p>

          <div style="margin-top:12px;display:flex;gap:10px;">
            <a class="icon-btn" href="mailto:somgupta0011@gmail.com" title="Email" style="display:inline-flex;align-items:center;justify-content:center;width:44px;height:44px;border-radius:10px;background:var(--glass);border:1px solid var(--soft-border)">
              <!-- mail icon -->
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"/></svg>
            </a>
            <a class="icon-btn" href="https://github.com/somguptaa" target="_blank" rel="noopener" title="GitHub" style="display:inline-flex;align-items:center;justify-content:center;width:44px;height:44px;border-radius:10px;background:var(--glass);border:1px solid var(--soft-border)">
              <!-- github icon -->
              <svg width="18" height="18" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49C3.67 13.91 3.14 13.04 3.14 12.6c-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.19 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
            </a>
            <a class="icon-btn" href="https://www.linkedin.com/in/som-gupta-2k3/" target="_blank" rel="noopener" title="LinkedIn" style="display:inline-flex;align-items:center;justify-content:center;width:44px;height:44px;border-radius:10px;background:var(--glass);border:1px solid var(--soft-border)">
              <!-- linkedin icon -->
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M4.98 3.5C4.98 4.88 3.86 6 2.48 6S0 4.88 0 3.5 1.12 1 2.48 1 4.98 2.12 4.98 3.5zM.5 8.5h4v14h-4v-14zM7.999 8.5h3.8v1.94h.06c.53-1 1.83-2.06 3.77-2.06 4.03 0 4.78 2.62 4.78 6.02v8.1h-4v-7.18c0-1.71-.03-3.92-2.39-3.92-2.39 0-2.76 1.86-2.76 3.79v7.31h-4v-14z"/></svg>
            </a>
          </div>
        </div>

        <div class="contact-card">
          <form id="contactForm" aria-label="Contact form">
            <input name="from_name" class="input" placeholder="Your Name" required>
            <input name="reply_to" class="input" type="email" placeholder="Your Email" required>
            <input name="subject" class="input" placeholder="Subject" required>
            <textarea name="message" class="input" placeholder="Your Message" required></textarea>

            <button class="send-btn" type="submit">Send Message</button>
            <p id="formStatus" class="muted" style="margin-top:10px"></p>
          </form>
        </div>
      </div>
    </section>
  </main>

  <footer>
    © <span id="year"></span> Som Gupta • Built with ❤️ • Hosted on GitHub Pages
  </footer>

  <!-- SCROLL TOP -->
  <button id="scrollTopBtn" aria-label="Scroll to top" style="position:fixed;bottom:24px;right:24px;width:52px;height:52px;border-radius:50%;background:var(--accent);color:#fff;border:none;font-size:20px;display:none;align-items:center;justify-content:center;box-shadow:0 8px 26px rgba(2,6,23,0.2);z-index:140;">↑</button>

  <script>
    /* ---------- small helpers ---------- */
    document.getElementById("year").textContent = new Date().getFullYear();

    /* Typing effect (safe) */
    (function(){
      const el = document.getElementById("typing");
      const words = ["Java Developer","Spring Boot Developer","Full Stack Developer","API Developer"];
      let wi=0, ci=0, del=false;
      if(!el) return;
      function tick(){
        const w = words[wi];
        el.textContent = w.substring(0,ci);
        if(!del && ci === w.length){ del = true; setTimeout(tick, 800); return; }
        if(del && ci === 0){ del = false; wi = (wi+1) % words.length; }
        ci += del ? -1 : 1;
        setTimeout(tick, del ? 45 : 90);
      }
      tick();
    })();

    /* ---------- theme toggle (iOS-style) ---------- */
    (function(){
      const root = document.documentElement;
      const checkbox = document.getElementById("themeCheckbox");
      const switchEl = document.getElementById("themeSwitch");

      // restore preference (default: dark)
      const saved = localStorage.getItem("themePref");
      if(saved === "light"){
        root.removeAttribute("data-theme");
        checkbox.checked = false;
        switchEl.setAttribute("data-on","false");
        switchEl.setAttribute("aria-checked","false");
      } else {
        root.setAttribute("data-theme","dark");
        checkbox.checked = true;
        switchEl.setAttribute("data-on","true");
        switchEl.setAttribute("aria-checked","true");
      }

      // click handler
      checkbox.addEventListener("change", ()=>{
        const on = checkbox.checked;
        if(on){
          root.setAttribute("data-theme","dark");
          localStorage.setItem("themePref","dark");
          switchEl.setAttribute("data-on","true");
          switchEl.setAttribute("aria-checked","true");
        } else {
          root.removeAttribute("data-theme");
          localStorage.setItem("themePref","light");
          switchEl.setAttribute("data-on","false");
          switchEl.setAttribute("aria-checked","false");
        }
      });

      // allow clicking the outer label too
      switchEl.addEventListener("click", (e)=>{
        // do nothing if target was the internal input (checkbox) because it already toggles
        if(e.target.tagName.toLowerCase() === 'input') return;
        checkbox.checked = !checkbox.checked;
        checkbox.dispatchEvent(new Event('change'));
      });
    })();

    /* ---------- sidebar / menu ---------- */
    (function(){
      const hamburger = document.getElementById("hamburger");
      const sidebar = document.getElementById("sidebar");
      const overlay = document.getElementById("overlay");
      const closeSidebar = document.getElementById("closeSidebar") || document.getElementById("closeSidebar");
      function openMenu(){
        sidebar.classList.add("show");
        overlay.classList.add("show");
        sidebar.setAttribute("aria-hidden","false");
        overlay.setAttribute("aria-hidden","false");
      }
      function closeMenu(){
        sidebar.classList.remove("show");
        overlay.classList.remove("show");
        sidebar.setAttribute("aria-hidden","true");
        overlay.setAttribute("aria-hidden","true");
      }
      window.closeMenu = closeMenu; // expose for inline nav anchors

      hamburger.addEventListener("click", openMenu);
      overlay.addEventListener("click", closeMenu);
      closeSidebar && closeSidebar.addEventListener("click", closeMenu);

      // close on Esc
      window.addEventListener("keydown", (e)=>{
        if(e.key === "Escape") closeMenu();
      });
    })();

    /* ---------- scroll top ---------- */
    (function(){
      const btn = document.getElementById("scrollTopBtn");
      window.addEventListener("scroll", ()=>{
        btn.style.display = window.scrollY > 420 ? "flex" : "none";
      });
      btn.addEventListener("click", ()=> window.scrollTo({top:0,behavior:"smooth"}));
    })();

    /* ---------- GitHub API: stars & languages ---------- */
    (async function(){
      const ts = document.getElementById("totalStars");
      const lg = document.getElementById("langs");
      try{
        let page = 1;
        let stars = 0;
        const map = {};
        while(true){
          const res = await fetch(`https://api.github.com/users/somguptaa/repos?per_page=100&page=${page}`);
          if(!res.ok) break;
          const data = await res.json();
          if(!data || data.length === 0) break;
          data.forEach(r=>{
            stars += Number(r.stargazers_count || 0);
            if(r.language) map[r.language] = (map[r.language] || 0) + 1;
          });
          page++;
        }
        if(ts) ts.textContent = "⭐ Total Stars: " + stars;
        if(lg){
          const arr = Object.entries(map).sort((a,b)=>b[1]-a[1]).slice(0,6);
          lg.innerHTML = arr.map(([k,v])=>`<span style="display:inline-block;padding:6px 10px;margin:4px;background:rgba(0,0,0,0.06);border-radius:20px;font-weight:600;color:var(--text)">${k} (${v})</span>`).join("");
        }
      }catch(err){
        if(ts) ts.textContent = "⭐ Total Stars: Failed to load";
        if(lg){ lg.style.display = "none"; document.getElementById("langsError") && (document.getElementById("langsError").style.display = "block"); }
      }
    })();

    /* ---------- contact form: mailto fallback ---------- */
    (function(){
      const form = document.getElementById("contactForm");
      if(!form) return;
      form.addEventListener("submit", function(e){
        e.preventDefault();
        const fd = new FormData(form);
        const name = fd.get("from_name") || '';
        const email = fd.get("reply_to") || '';
        const subject = fd.get("subject") || 'Contact';
        const message = fd.get("message") || '';
        const body = `Name: ${name}\nEmail: ${email}\n\n${message}`;
        const url = `mailto:somgupta0011@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
        // open mail client
        window.location.href = url;
        document.getElementById("formStatus").textContent = "Opening your email client…";
      });
    })();

    /* ---------- small accessibility tweak: ensure resume in sidebar on small screens ---------- */
    (function(){
      // no-op here: CSS hides resume on small screens and sidebar contains the download link
    })();
  </script>
</body>
</html>
